{% extends "shop/shop_base.jinja" %}
{% from "shop/macros/_pagination.jinja" import pagination %}

{% block title %}Каталог{% endblock %}


{% block content %}
    {% for book in books %}
        <div class="book_preview col-sm-3">
            {% if book.photo.url != None %}
                <div class="center-block" style="height: 220px; width: 150px; border: 1px solid lightgray;">
                    <a href="{{ book.get_absolute_url() }}">
                        <img src="{{ book.photo.url }}" class="cover_preview center-block" style="max-width: 150px; max-height: 220px;" >
                    </a>
                </div>
            {% endif %}

            <div class="description center-block" style="height: 75px; width: 150px; margin-bottom: 30px;">
                <div class="authors">
                    {% for author in book.authors.all()[:2] %}
                        <a href="{{ author.get_absolute_url() }}">{{ author }}</a><br>
                    {% endfor %}
                </div>

                <p style="font-size: 13px">{{ book.title_crop(40) }}</p>
            </div>
        </div>
    {% endfor %}

    <div class="clearfix"></div>

    {{ pagination(page_obj) }}
{% endblock %}