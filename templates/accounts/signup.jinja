{% extends 'shop/shop_base.jinja' %}

{# TODO: Пофиксить отображение ошибок (переписать в макрос) #}

{% block title %}Регистрация{% endblock %}


{% block content %}
    <form class="form-horizontal" role="form" method="post">
        <div><h2 class="form-header">Регистрация</h2></div>

        <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

        <div class="form-group" id="block-username">
            <label for="id_username" class="col-sm-3 control-label">Логин</label>
            <div class="col-sm-9">
                {{ form.username | add_class("form-control") | attr("placeholder:Введите логин") }}

                {% if form.username.errors %}
                    <p id="err-username" class="help-block errors">{{ form.username.errors.as_text }}</p>
                {% endif %}
            </div>
        </div>

        <div class="form-group" id="block-email">
            <label for="id_email" class="col-sm-3 control-label">Email</label>
            <div class="col-sm-9">
                {{ form.email | add_class("form-control") | attr("placeholder:Введите Email в формате john_snow@gmail.com") }}

                {% if form.email.errors %}
                    <p id="err-email" class="help-block errors">{{ form.email.errors.as_text }}</p>
                {% endif %}
            </div>
        </div>

        <div class="form-group" id="block-password1">
            <label for="id_password1" class="col-sm-3 control-label">Пароль</label>
            <div class="col-sm-9">
                {{ form.password1 | add_class("form-control") | attr("placeholder:Не менее 8 символов") }}

                {% if form.password1.errors %}
                    <p id="err-password1" class="help-block errors">{{ form.password1.errors.as_text }}</p>
                {% endif %}
            </div>
        </div>

        <div class="form-group" id="block-password2">
            <label for="id_password2" class="col-sm-3 control-label">Пароль (повторно)</label>
            <div class="col-sm-9">
                {{ form.password2 | add_class("form-control") | attr("placeholder:Подтвердите пароль") }}

                {% if form.password2.errors %}
                    <p id="err-password2" class="help-block errors">{{ form.password2.errors.as_text }}</p>
                {% endif %}
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-9 col-sm-offset-3">
                <button type="submit" class="btn btn-primary btn-block">Регистрация</button>
            </div>
        </div>
    </form>
{% endblock %}


{% block stylesheet %}
    <link href="{{ static('css/accounts/signup.css') }}" rel="stylesheet">
{% endblock %}


{% block javascript %}
    <script src="{{ static('js/accounts/signup.js')}}"></script>
{% endblock %}